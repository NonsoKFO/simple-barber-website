"use strict";(self.webpackChunkonline_convert=self.webpackChunkonline_convert||[]).push([[684],{27489:function(t,e,r){r.d(e,{F:function(){return u}});r(32564),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948);var n=r(23091),o=r(72997),a=r(87506),i=r(19755);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t){this._logger=a.P,(0,o.jV)(t)&&(0,o.fN)(t,"logger")&&((0,n.t9)(t.logger.log),this._logger=t.logger)}u.prototype.ajax=function(t){(0,n.u)(t);var e=0;t.hasOwnProperty("maxRetries")&&((0,n.VW)(t.maxRetries),(0,n.GY)(t.maxRetries>=0),e=t.maxRetries),t.hasOwnProperty("timeout")?((0,n.VW)(t.timeout),(0,n.GY)(t.timeout>=0)):t.timeout=59e3,!t.hasOwnProperty("method")&&t.hasOwnProperty("type")&&(t.method=t.type),t.hasOwnProperty("method")||(t.method="GET");var r=!1,o=!1,a=!0,s=!0;t.hasOwnProperty("retryTimeout")&&((0,n.Xy)(t.retryTimeout),r=t.retryTimeout),t.hasOwnProperty("retry400")&&((0,n.Xy)(t.retry400),o=t.retry400),t.hasOwnProperty("retry500")&&((0,n.Xy)(t.retry500),a=t.retry500),t.hasOwnProperty("retryOther")&&((0,n.Xy)(t.retryOther),s=t.retryOther),t.hasOwnProperty("cache")||(t.cache=!1);var u=0,f=i.Deferred(),l=this._logger;return function c(){var p=Date.now();function y(i,y,h){var d=(Date.now()-p)/1e3;function g(e){l.log(e,{url:t.url,ajax_status:y,ajax_error:h,http_status:i.status,http_method:t.method,duration_s:d})}if(402===i.status)return g("qgAjaxWrapper - with retry - fail - 402 payment required"),void f.reject(i,y,h);var x=u<e,j="timeout"===y,m=i.status>=400&&i.status<500,v=i.status>=500&&i.status<600;if(j){if(!r||!x)return g("qgAjaxWrapper - with retry - fail - timeout - final"),void f.reject(i,y,h);g("qgAjaxWrapper - with retry - fail - timeout - retry")}else if(m){if(!o||!x)return g("qgAjaxWrapper - with retry - fail - 4xx - final"),void f.reject(i,y,h);g("qgAjaxWrapper - with retry - fail - 4xx - retry")}else if(v){if(!a||!x)return g("qgAjaxWrapper - with retry - fail - 5xx - final"),void f.reject(i,y,h);g("qgAjaxWrapper - with retry - fail - 5xx - retry")}else{if(!s||!x)return g("qgAjaxWrapper - with retry - fail - other - final"),void f.reject(i,y,h);g("qgAjaxWrapper - with retry - fail - other - retry")}var w,k=function(t){(0,n.VW)(t),t<1&&(t=1);var e=t;return e>20&&(e=20),e}(u+=1);v&&(w=u,(0,n.VW)(w),w<1&&(w=1),k=w<3?10:20),setTimeout((function(){c()}),1e3*k)}i.ajax(t).done((function(e,r,n){var o=(Date.now()-p)/1e3;o>15&&l.log("qgAjaxWrapper - done - slow ajax call",{url:t.url,duration_s:o}),f.resolve(e,r,n)})).fail((function(r,n,o){e>0?y(r,n,o):function(e,r,n){var o,a=(Date.now()-p)/1e3,i="timeout"===r,s=402===e.status,u=e.status>=400&&e.status<500,c=e.status>=500&&e.status<600;o=i?"qgAjaxWrapper - no retry - fail - timeout":s?"qgAjaxWrapper - no retry - fail - 402 payment required":u?"qgAjaxWrapper - no retry - fail - 4xx":c?"qgAjaxWrapper - no retry - fail - 5xx":"qgAjaxWrapper - no retry - fail - other",l.log(o,{url:t.url,ajax_status:r,ajax_error:n,http_status:e.status,http_method:t.method,duration_s:a}),f.reject(e,r,n)}(r,n,o)}))}(),f},u.prototype.post=function(t){return t.method="POST",this.ajax(t)},u.prototype.postJson=function(t){return t.method="POST",t.contentType="application/json",t.processData=!1,"object"===s(t.data)&&(t.data=JSON.stringify(t.data)),this.ajax(t)},u.prototype.get=function(t){return t.method="GET",this.ajax(t)},u.prototype.delete=function(t){return t.method="DELETE",this.ajax(t)},u.prototype.patch=function(t){return t.method="PATCH",this.ajax(t)},u.prototype.getDefaultOptions=function(t){var e={data:{},xhrFields:{withCredentials:!0},cache:!1};return(0,o.Rt)(t)&&(e.url=t),e}},60684:function(t,e,r){r.d(e,{E:function(){return p}});r(89554),r(41539),r(54747),r(69070),r(72997);var n=r(87506),o=r(27489),a=r(38232),i=r(19755);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var l=new(function(){function t(){s(this,t),this.deferreds={},this.tokens={}}return f(t,[{key:"isRequestInProgress",value:function(t){return!!this.deferreds.hasOwnProperty(t)&&0!==this.deferreds[t].length}},{key:"addDeferred",value:function(t,e){this.deferreds.hasOwnProperty(t)||(this.deferreds[t]=[]),this.deferreds[t].push(e)}},{key:"resolve",value:function(t,e){this.tokens[t]=e;var r=this.deferreds[t];this.deferreds[t]=[],r.forEach((function(t){t.resolve(e)}))}},{key:"reject",value:function(t,e){var r=this.deferreds[t];this.deferreds[t]=[],r.forEach((function(t){t.reject(e)}))}},{key:"getToken",value:function(t){return this.tokens.hasOwnProperty(t)?this.tokens[t]:null}}]),t}());function c(t){var e=i.Deferred();l.getToken(t);return l.isRequestInProgress(t)?(l.addDeferred(t,e),e):(l.addDeferred(t,e),(new o.F).get({url:a.f.getApiUrl("api/csrf/")+t,dataType:"json",xhrFields:{withCredentials:!0},cache:!1,maxRetries:5}).done((function(e){e&&e.token?l.resolve(t,e.token):(n.P.log("get csrf token - fail - invalid response",{http_status:jqXHR.status,ajax_status:textStatus,ajax_error:errorThrown}),l.reject(t,"invalid response"))})).fail((function(e,r,o){n.P.log("get csrf token - fail - connection problem",{http_status:e.status,ajax_status:r,ajax_error:o}),l.reject(t,"connection problem")})),e)}var p=new(function(){function t(){s(this,t)}return f(t,[{key:"getCsrfRegister",value:function(){return c("register")}},{key:"getCsrfLogin",value:function(){return c("login")}},{key:"getCsrfLogout",value:function(){return c("logout")}},{key:"getCsrfContactUs",value:function(){return c("contact-us")}},{key:"getCsrfPayment",value:function(){return c("payment")}},{key:"getCsrfCloseAccount",value:function(){return c("close-account")}},{key:"getCsrfCoupon",value:function(){return c("coupon")}},{key:"getCsrfBillingInformation",value:function(){return c("billing-information")}},{key:"getCsrfNotifications",value:function(){return c("notifications")}}]),t}())}}]);